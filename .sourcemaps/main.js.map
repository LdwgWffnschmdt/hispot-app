{"version":3,"sources":["../../src/pages/map/map.ts","../../node_modules/@angular/core/@angular lazy","../../src lazy","../../src/providers/auth.service.ts","../../src/pages/edit-user-profile/edit-user-profile.ts","../../src/components/base.component.ts","../../src/pages/signin/signin.ts","../../src/pages/status/status.ts","../../src/components/location-switcher/location-switcher.ts","../../src/pages/location/location.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/models/models.ts","../../node_modules/moment/locale ^/.*$","../../src/providers/base.service.ts","../../src/directives/parallax-header/parallax-header.ts","../../src/directives/autoresize/autoresize.ts","../../src/pipes/capitalize.pipe.ts","../../src/components/custom-logged-header/custom-logged-header.component.ts","../../src/components/message-box/message-box.component.ts","../../src/components/progress-bar/progress-bar.component.ts","../../src/components/user-info/user-info.component.ts","../../src/components/user-menu/user-menu.component.ts","../../src/pages/chat-list/chat-list.ts","../../src/pages/home/home.ts","../../src/app/app.component.ts","../../src/components/shrinking-segment-header/shrinking-segment-header.ts","../../src/pages/user-profile/user-profile.ts","../../src/pages/chat/chat.ts"],"names":[],"mappings":"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AAU;YACV,0FAAe;YACf,wGAAmB;YACnB,mEAAQ;YACR,iFAAY;YACZ,gEAAO;YACP,mEAAQ;YACR,+EAAY;YACZ,yEAAU;YACV,mHAAyB;SAC1B;QACD,SAAS,EAAE;YACT,2EAAS;YACT,iFAAY;YACZ,EAAE,OAAO,EAAE,2DAAY,EAAE,QAAQ,EAAE,wEAAiB,EAAE;YACtD,wEAAQ;YACR,8EAAW;YACX,sEAAO;YACP,6EAAW;YACX,qEAAe;YACf,CAAC,EAAE,OAAO,EAAE,2DAAY,EAAE,QAAQ,EAAE,cAAc,EAAE,CAAC;SACtD;KACF,CAAC;GACW,SAAS,CAAI;AAAJ;;;;;;;;;;;;;ACvItB,IAAY,WAGX;AAHD,WAAY,WAAW;IACrB,kCAAY,MAAM;IAClB,qCAAe,SAAS;AAC1B,CAAC,EAHW,WAAW,KAAX,WAAW,QAGtB;AAeD;IAME;IAAe,CAAC;IAAA,CAAC;IACnB,WAAC;AAAD,CAAC;;AAED;IAOE;IAAe,CAAC;IAClB,cAAC;AAAD,CAAC;;AAED;IAWE,kBAAY,aAAqB,EAAE,IAAY;QAC7C,IAAI,CAAC,aAAa,GAAG,aAAa,CAAC;QACnC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;IACnB,CAAC;IACH,eAAC;AAAD,CAAC;;;;;;;;;ACrDD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wB;;;;;;;;;;;;ACtPyC;AACP;AAElC,IAAM,YAAY,GAAG,UAAC,KAAqB;IACvC,oEAAoE;IACpE,IAAI,MAAc,CAAC;IACnB,EAAE,CAAC,CAAC,KAAK,YAAY,+DAAQ,CAAC,CAAC,CAAC;QAC5B,IAAM,IAAI,GAAG,KAAK,CAAC,IAAI,EAAE,IAAI,EAAE,CAAC;QAChC,IAAM,GAAG,GAAG,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;QAC/C,MAAM,GAAM,KAAK,CAAC,MAAM,YAAM,KAAK,CAAC,UAAU,IAAI,EAAE,UAAI,GAAK,CAAC;IAClE,CAAC;IAAC,IAAI,CAAC,CAAC;QACJ,MAAM,GAAG,KAAK,CAAC,OAAO,GAAG,KAAK,CAAC,OAAO,GAAG,KAAK,CAAC,QAAQ,EAAE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","file":"main.js","sourcesContent":["import { StatusPage } from './../status/status';\r\nimport { LocationSwitcherComponent } from './../../components/location-switcher/location-switcher';\r\nimport { Location } from './../../models/models';\r\nimport { LocationPage } from './../location/location';\r\nimport { UserProfilePage } from './../user-profile/user-profile';\r\nimport { Component, ViewChild, ElementRef, NgZone, Renderer } from '@angular/core';\r\nimport { NavController, MenuController, Navbar, AlertController, PopoverController, ModalController, Content } from 'ionic-angular';\r\nimport { Network } from '@ionic-native/network';\r\nimport { Geolocation } from '@ionic-native/geolocation';\r\n\r\nimport { ChatListPage } from '../chat-list/chat-list';\r\n\r\ndeclare var google;\r\n\r\nimport { Apollo, ApolloQueryObservable } from 'apollo-angular';\r\nimport gql from 'graphql-tag';\r\n\r\nimport { AuthService } from './../../providers/auth.service';\r\nimport { Chat, User } from \"../../models/models\";\r\nimport { ChatPage } from \"../chat/chat\";\r\n\r\nconst GetLocationQuery = gql`\r\n  query location($googlePlaceId: String) {\r\n    location(googlePlaceId: $googlePlaceId) {\r\n      id\r\n      googlePlaceId\r\n      name\r\n      description\r\n      pictures {\r\n        url\r\n      }\r\n      visitors {\r\n        id\r\n        pictures {\r\n          url\r\n        }\r\n      }\r\n      feed {\r\n        id\r\n        user {\r\n          id\r\n          name\r\n          pictures {\r\n            url\r\n          }\r\n        }\r\n        messages {\r\n          id\r\n          content\r\n          type\r\n          timestamp\r\n          sender {\r\n            id\r\n            name\r\n            pictures {\r\n              url\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\ninterface GetLocationQueryResponse{\r\n  location: Location\r\n  loading\r\n}\r\n\r\n@Component({\r\n  selector: 'page-map',\r\n  templateUrl: 'map.html'\r\n})\r\nexport class MapPage {\r\n  @ViewChild('navbar') navbar: Navbar;\r\n  @ViewChild('map') mapElement: ElementRef;\r\n  @ViewChild('feed') feed: any;\r\n\r\n  @ViewChild(Content) content: Content;\r\n  \r\n  state: number = -1;\r\n  offset: number = 150;\r\n  \r\n  zone: any;\r\n  map: any;\r\n\r\n  loading: boolean = false;\r\n\r\n  currentLocation: Location;\r\n\r\n  mapInitialised: boolean = false;\r\n  onDevice: boolean;\r\n  apiKey: any = \"AIzaSyA7I5gFFrRO8VzqmDK4Jw6qle5TG2b3IiQ\";\r\n  locationMarker: any;\r\n  locationAccuracyCircle: any;\r\n  locationWatching: boolean = false;\r\n  \r\n  closeLocations: [Location] = [\r\n    new Location(\"ChIJPdTV4C5QqEcRYuaEK_x3_h8\", \"Zyankali Bar\"),\r\n    new Location(\"ChIJ528Y3ddPqEcRpJK-keQ4D0A\", \"Junction Bar\"),\r\n    new Location(\"ChIJvXT5xddPqEcRIwILgO_CnC0\", \"Mokkabar\")\r\n  ]\r\n\r\n  constructor(\r\n    public alertCtrl: AlertController,\r\n    public element: ElementRef,\r\n    public authService: AuthService,\r\n    public navCtrl: NavController,\r\n    public menuCtrl: MenuController,\r\n    public popoverCtrl: PopoverController,\r\n    public modalCtrl: ModalController,\r\n    public geolocation: Geolocation,\r\n    public network: Network,\r\n    private apollo: Apollo,\r\n    public renderer: Renderer\r\n  ) {\r\n    this.zone = new NgZone({ enableLongStackTrace: false });\r\n\r\n    // Check if online or not\r\n    this.isOnline();\r\n\r\n    this.network.onConnect().subscribe(() => {\r\n      console.log('network connect');\r\n      // We just got a connection but we need to wait briefly\r\n      // before we determine the connection type. Might need to wait.\r\n      // prior to doing any api requests as well.\r\n      setTimeout(() => {\r\n        if (this.isOnline()) {\r\n          if (typeof google == \"undefined\" || typeof google.maps == \"undefined\") {\r\n\r\n            this.loadGoogleMaps();\r\n\r\n          } else {\r\n\r\n            if (!this.mapInitialised) {\r\n              this.initMap();\r\n            }\r\n          }\r\n        }\r\n      }, 1000);\r\n    });\r\n\r\n    this.network.onDisconnect().subscribe(() => {\r\n      this.renderer.setElementClass(this.element.nativeElement, \"offline\", true);\r\n    });\r\n\r\n    this.loadGoogleMaps();\r\n  }\r\n\r\n  // ionViewCanEnter(): Promise<boolean> {\r\n  //   return this.authService.authenticated;\r\n  // }\r\n\r\n  ionViewDidLoad() {\r\n    this.setState(0);\r\n\r\n    this.navbar.backButtonClick = (e: UIEvent) => {\r\n      this.setState(1);\r\n    };\r\n\r\n    this.feed.ionScroll.subscribe((ev) => {\r\n      ev.domWrite(() => {\r\n        \r\n        if (this.state == 1 && ev.directionY == \"down\" && ev.scrollTop > this.offset) { // DOWN\r\n          this.setState(4);\r\n        }\r\n        else if (this.state == 4 && (ev.directionY == \"up\" && ev.velocityY > 5) || (ev.scrollTop <= this.offset)) { // UP\r\n          this.setState(1);\r\n        }\r\n    \r\n        });\r\n    });\r\n\r\n    // vanilla JS\r\n    // var people = document.querySelector('.people');\r\n    // var iso = new Isotope( people, {\r\n    //   itemSelector: '.image-button',\r\n    //   layoutMode: 'masonryHorizontal',\r\n    //   masonry: {\r\n    //     rowHeight: 33\r\n    //   }\r\n    // });\r\n  }\r\n\r\n  setState(state: number): void {\r\n    if (this.state == state || (state != 0 && !this.currentLocation)) return;\r\n    console.log(\"Go to state \" + state);\r\n\r\n    if (this.state == 2) {\r\n      this.map.setCenter(this.locationMarker.getPosition());\r\n      this.map.setZoom(19);\r\n    }\r\n\r\n    this.renderer.setElementClass(this.element.nativeElement, \"state-\" + this.state, false);\r\n    this.state = state;\r\n    this.renderer.setElementClass(this.element.nativeElement, \"state-\" + this.state, true);\r\n  }\r\n\r\n  ////////////////////////////////////////////// LOGIN\r\n\r\n  onSigninWithFacebook(): void {\r\n    \r\n    this.showLoading();\r\n\r\n    this.authService.signinWithFacebook()\r\n      .then((isLogged: boolean) => {\r\n\r\n        if (isLogged) {\r\n          this.getPlaceInformation(this.closeLocations[0].googlePlaceId)\r\n            .then((response) => {\r\n              this.currentLocation = response\r\n              this.setState(1);\r\n              this.hideLoading();\r\n            });\r\n\r\n          // this.navCtrl.setRoot(MapPage);\r\n          // this.hideLoading();\r\n        }\r\n\r\n      }).catch((error: any) => {\r\n        console.log(error);\r\n        this.hideLoading();\r\n        this.showAlert(error);\r\n      });\r\n\r\n  }\r\n\r\n  skip(): void {\r\n\r\n    this.showLoading();\r\n    \r\n    this.authService.fakeLogin()\r\n      .then((isLogged: boolean) => {\r\n\r\n        if (isLogged) {\r\n          this.getPlaceInformation(this.closeLocations[0].googlePlaceId)\r\n            .then((response) => {\r\n              this.currentLocation = response\r\n              this.setState(1);\r\n              this.hideLoading();\r\n            });\r\n\r\n          // this.navCtrl.setRoot(MapPage);\r\n          // this.hideLoading();\r\n        }\r\n\r\n      }).catch((error: any) => {\r\n        console.log(error);\r\n        this.hideLoading();\r\n        this.showAlert(error);\r\n      });\r\n  }\r\n\r\n  private showLoading(): void {\r\n    this.loading = true;\r\n  }\r\n\r\n  private hideLoading(): void {\r\n    this.loading = false;\r\n  }\r\n\r\n  private showAlert(message: string): void {\r\n    this.alertCtrl.create({\r\n      message: message,\r\n      buttons: ['Ok']\r\n    }).present();\r\n  }\r\n\r\n  ////////////////////////////////////////////// MAP\r\n\r\n  loadGoogleMaps() {\r\n\r\n    if (typeof google == \"undefined\" || typeof google.maps == \"undefined\") {\r\n\r\n      if (this.isOnline()) {\r\n        console.log(\"online, loading map\");\r\n\r\n        //Load the SDK\r\n        window['mapInit'] = () => {\r\n          this.initMap();\r\n        }\r\n\r\n        let script = document.createElement(\"script\");\r\n        script.id = \"googleMaps\";\r\n\r\n        if (this.apiKey) {\r\n          script.src = 'http://maps.google.com/maps/api/js?key=' + this.apiKey + '&callback=mapInit&libraries=places';\r\n        } else {\r\n          script.src = 'http://maps.google.com/maps/api/js?callback=mapInit&libraries=places';\r\n        }\r\n\r\n        document.body.appendChild(script);\r\n\r\n      }\r\n    }\r\n    else {\r\n\r\n      if (this.isOnline()) {\r\n        console.log(\"showing map\");\r\n        this.initMap();\r\n      }\r\n\r\n    }\r\n\r\n  }\r\n\r\n  initMap() {\r\n    // this.geolocation.getCurrentPosition({ timeout: 30000 }).then((position) => {\r\n      var position = {\r\n        coords: {\r\n          latitude: 52.4916686397199,\r\n          longitude: 13.392747044563293,\r\n          accuracy: 10\r\n        }\r\n      };\r\n\r\n      if (position.coords !== undefined) {\r\n\r\n        this.setLocationAvailable(true);\r\n\r\n        let latLng = new google.maps.LatLng(position.coords.latitude, position.coords.longitude);\r\n\r\n        let mapOptions = {\r\n          center: latLng,\r\n          zoom: 19,\r\n          gestureHandling: 'greedy',\r\n          mapTypeId: google.maps.MapTypeId.ROADMAP,\r\n          styles: [\r\n            {\r\n              \"elementType\": \"labels.icon\",\r\n              \"stylers\": [\r\n                {\r\n                  \"visibility\": \"off\"\r\n                }\r\n              ]\r\n            },\r\n            {\r\n              \"elementType\": \"labels.text.fill\",\r\n              \"stylers\": [\r\n                {\r\n                  \"color\": \"#ffffff\"\r\n                }\r\n              ]\r\n            },\r\n            {\r\n              \"elementType\": \"labels.text.stroke\",\r\n              \"stylers\": [\r\n                {\r\n                  \"visibility\": \"off\"\r\n                }\r\n              ]\r\n            },\r\n            {\r\n              \"featureType\": \"administrative\",\r\n              \"elementType\": \"geometry.fill\",\r\n              \"stylers\": [\r\n                {\r\n                  \"color\": \"#b32552\"\r\n                }\r\n              ]\r\n            },\r\n            {\r\n              \"featureType\": \"administrative\",\r\n              \"elementType\": \"geometry.stroke\",\r\n              \"stylers\": [\r\n                {\r\n                  \"color\": \"#b32552\"\r\n                },\r\n                {\r\n                  \"weight\": 1\r\n                }\r\n              ]\r\n            },\r\n            {\r\n              \"featureType\": \"administrative.land_parcel\",\r\n              \"elementType\": \"labels\",\r\n              \"stylers\": [\r\n                {\r\n                  \"visibility\": \"off\"\r\n                }\r\n              ]\r\n            },\r\n            {\r\n              \"featureType\": \"administrative.locality\",\r\n              \"stylers\": [\r\n                {\r\n                  \"visibility\": \"simplified\"\r\n                }\r\n              ]\r\n            },\r\n            {\r\n              \"featureType\": \"landscape\",\r\n              \"elementType\": \"geometry\",\r\n              \"stylers\": [\r\n                {\r\n                  \"color\": \"#b32552\"\r\n                }\r\n              ]\r\n            },\r\n            {\r\n              \"featureType\": \"landscape.man_made\",\r\n              \"elementType\": \"labels\",\r\n              \"stylers\": [\r\n                {\r\n                  \"visibility\": \"off\"\r\n                }\r\n              ]\r\n            },\r\n            {\r\n              \"featureType\": \"landscape.natural\",\r\n              \"elementType\": \"geometry\",\r\n              \"stylers\": [\r\n                {\r\n                  \"color\": \"#7b1a39\"\r\n                }\r\n              ]\r\n            },\r\n            {\r\n              \"featureType\": \"poi\",\r\n              \"stylers\": [\r\n                {\r\n                  \"visibility\": \"off\"\r\n                }\r\n              ]\r\n            },\r\n            {\r\n              \"featureType\": \"poi\",\r\n              \"elementType\": \"geometry\",\r\n              \"stylers\": [\r\n                {\r\n                  \"color\": \"#7b1a39\"\r\n                }\r\n              ]\r\n            },\r\n            {\r\n              \"featureType\": \"poi\",\r\n              \"elementType\": \"labels.icon\",\r\n              \"stylers\": [\r\n                {\r\n                  \"hue\": \"#0094d4\"\r\n                },\r\n                {\r\n                  \"visibility\": \"off\"\r\n                }\r\n              ]\r\n            },\r\n            {\r\n              \"featureType\": \"poi.business\",\r\n              \"elementType\": \"labels.icon\",\r\n              \"stylers\": [\r\n                {\r\n                  \"visibility\": \"simplified\"\r\n                }\r\n              ]\r\n            },\r\n            {\r\n              \"featureType\": \"road\",\r\n              \"elementType\": \"geometry.stroke\",\r\n              \"stylers\": [\r\n                {\r\n                  \"visibility\": \"off\"\r\n                }\r\n              ]\r\n            },\r\n            {\r\n              \"featureType\": \"road\",\r\n              \"elementType\": \"labels\",\r\n              \"stylers\": [\r\n                {\r\n                  \"visibility\": \"off\"\r\n                }\r\n              ]\r\n            },\r\n            {\r\n              \"featureType\": \"road.arterial\",\r\n              \"elementType\": \"geometry\",\r\n              \"stylers\": [\r\n                {\r\n                  \"color\": \"#b32552\"\r\n                },\r\n                {\r\n                  \"lightness\": -20\r\n                }\r\n              ]\r\n            },\r\n            {\r\n              \"featureType\": \"road.highway\",\r\n              \"elementType\": \"geometry.fill\",\r\n              \"stylers\": [\r\n                {\r\n                  \"color\": \"#b32552\"\r\n                },\r\n                {\r\n                  \"lightness\": -40\r\n                }\r\n              ]\r\n            },\r\n            {\r\n              \"featureType\": \"road.highway.controlled_access\",\r\n              \"elementType\": \"geometry.stroke\",\r\n              \"stylers\": [\r\n                {\r\n                  \"color\": \"#b32552\"\r\n                },\r\n                {\r\n                  \"lightness\": -40\r\n                }\r\n              ]\r\n            },\r\n            {\r\n              \"featureType\": \"road.local\",\r\n              \"elementType\": \"geometry\",\r\n              \"stylers\": [\r\n                {\r\n                  \"color\": \"#b32552\"\r\n                },\r\n                {\r\n                  \"saturation\": 60\r\n                },\r\n                {\r\n                  \"lightness\": 20\r\n                }\r\n              ]\r\n            },\r\n            {\r\n              \"featureType\": \"transit\",\r\n              \"elementType\": \"geometry\",\r\n              \"stylers\": [\r\n                {\r\n                  \"color\": \"#7b1a39\"\r\n                }\r\n              ]\r\n            },\r\n            {\r\n              \"featureType\": \"water\",\r\n              \"elementType\": \"geometry\",\r\n              \"stylers\": [\r\n                {\r\n                  \"color\": \"#090228\"\r\n                }\r\n              ]\r\n            }\r\n          ],\r\n          disableDefaultUI: true\r\n        }\r\n\r\n        this.map = new google.maps.Map(this.mapElement.nativeElement, mapOptions);\r\n\r\n        this.locationMarker = new google.maps.Marker({\r\n          position: latLng,\r\n          icon: {\r\n            path: google.maps.SymbolPath.CIRCLE,\r\n            scale: 5,\r\n            strokeColor: '#ffffff',\r\n            strokeOpacity: 0.6,\r\n            strokeWeight: 1,\r\n            fillColor: '#0094d4',\r\n            fillOpacity: 1\r\n          },\r\n          draggable: false,\r\n          clickable: false,\r\n          map: this.map\r\n        });\r\n\r\n        this.locationAccuracyCircle = new google.maps.Circle({\r\n          center: latLng,\r\n          radius: position.coords.accuracy,\r\n          map: this.map,\r\n          strokeColor: '#ffffff',\r\n          strokeOpacity: 0.3,\r\n          strokeWeight: 1,\r\n          fillColor: '#0094d4',\r\n          fillOpacity: 0.3,\r\n          clickable: false\r\n        });\r\n\r\n        // Listen for clicks on the map.\r\n        this.map.addListener('click', this.handleClick.bind(this));\r\n\r\n        // this.geolocation.watchPosition({ timeout: 10000 }).subscribe((position) => {\r\n        //   if (position.coords !== undefined) {\r\n        //     this.setLocationAvailable(true);\r\n\r\n        //     if (this.locationMarker && this.locationAccuracyCircle) {\r\n        //       let latLng = new google.maps.LatLng(position.coords.latitude, position.coords.longitude);\r\n\r\n        //       this.locationMarker.setPosition(latLng);\r\n        //       this.locationAccuracyCircle.setCenter(latLng);\r\n        //       this.locationAccuracyCircle.setRadius(Number(position.coords.accuracy));\r\n        //     };\r\n        //   }\r\n        //   else {\r\n        //     this.onLocationError(position);\r\n        //   }\r\n        // }, this.onLocationError);\r\n\r\n        this.locationWatching = true;\r\n        this.mapInitialised = true;\r\n      }\r\n      else {\r\n        this.onLocationError(null);\r\n      }\r\n    // }, this.onLocationError).catch(this.onLocationError);\r\n  }\r\n\r\n  setLocationAvailable(locationAvailable: boolean) : void {\r\n    this.renderer.setElementClass(this.element.nativeElement, \"no-location\", !locationAvailable);\r\n  }\r\n\r\n  onLocationError(error) {\r\n    // this.setLocationAvailable(false);\r\n\r\n    // if (!this.locationWatching) {\r\n    //   var temporaryLocationWatch = this.geolocation.watchPosition({ timeout: 10000 }).subscribe((position) => {\r\n    //     if (position.coords !== undefined && (this.isOnline())) {\r\n    //       if (typeof google == \"undefined\" || typeof google.maps == \"undefined\") {\r\n\r\n    //         this.loadGoogleMaps();\r\n\r\n    //       } else {\r\n\r\n    //         if (!this.mapInitialised) {\r\n    //           this.initMap();\r\n    //         }\r\n    //       }\r\n\r\n    //       temporaryLocationWatch.unsubscribe();\r\n    //     }\r\n    //   });\r\n    //   this.locationWatching = true;\r\n    // }\r\n\r\n    console.log('Error getting location', error);\r\n  }\r\n\r\n\r\n  handleClick(event) {\r\n    \r\n    // If the event has a placeId, use it.\r\n    if (event.placeId) {\r\n      // this.zone.run(() => {\r\n      //   this.currentLocationLoading = true;\r\n      // });\r\n      console.log(event.placeId);\r\n\r\n      // Calling e.stop() on the event prevents the default info window from\r\n      // showing.\r\n      // If you call stop here when there is no placeId you will prevent some\r\n      // other map click event handlers from receiving the event.\r\n      event.stop();\r\n      \r\n      this.goToLocation(new Location(event.placeId, \"\"));\r\n    }\r\n  };\r\n\r\n  getPlaceInformation(placeId: string): Promise<Location> {\r\n    console.log(\"Get Place Information\");\r\n    return new Promise<Location>((resolve, reject) =>\r\n      this.apollo.watchQuery<GetLocationQueryResponse>({\r\n        query: GetLocationQuery,\r\n        variables: {\r\n          googlePlaceId: placeId\r\n        }\r\n      }).subscribe(({data}) => {\r\n        if (data.location) resolve(data.location);\r\n      })\r\n    );\r\n  }\r\n\r\n  checkIn(placeId: string): void {\r\n    this.setState(1);\r\n    this.showLoading();\r\n    this.getPlaceInformation(placeId == this.currentLocation.googlePlaceId ? \"0\" : placeId)\r\n      .then((response) => {\r\n        this.currentLocation = response\r\n        this.setState(1);\r\n        this.hideLoading();\r\n      });\r\n  }\r\n\r\n  ////////////////////////////////////////////// NETWORK\r\n\r\n  isOnline(): boolean {\r\n    var online: boolean = false;\r\n\r\n    if (this.onDevice && this.network.type) {\r\n      online = this.network.type !== 'none';\r\n    } else {\r\n      online = navigator.onLine;\r\n    }\r\n\r\n    this.renderer.setElementClass(this.element.nativeElement, \"offline\", !online);\r\n\r\n    return online;\r\n  }\r\n\r\n  ////////////////////////////////////////////// NAVIGATION\r\n\r\n  newStatus(): void {\r\n    let modal = this.modalCtrl.create(StatusPage);\r\n    \r\n    modal.onDidDismiss((data) => {\r\n      if (data) {\r\n        console.log(\"data\", data);\r\n        // this.currentLocation.feed.messages.push(data);\r\n        this.scrollToTop();\r\n      }\r\n    });\r\n\r\n    modal.present();\r\n  }\r\n   \r\n  selectLocation(ev) {\r\n    if (this.loading) return;\r\n\r\n    let popover = this.popoverCtrl.create(LocationSwitcherComponent,\r\n      {\r\n        locations: this.closeLocations,\r\n        currentLocation: this.currentLocation\r\n      }\r\n    );\r\n\r\n    popover.present({\r\n      ev: ev\r\n    });\r\n \r\n    popover.onDidDismiss((popoverData) => {\r\n      if (popoverData) {\r\n        console.log(\"popoverData\", popoverData);\r\n        if (popoverData.checkIn == true) {\r\n          this.checkIn(popoverData.location.googlePlaceId);\r\n        }\r\n        else {\r\n          this.goToLocation(popoverData.location);\r\n        }\r\n      }\r\n    })\r\n  }\r\n\r\n  goToLocation(location: Location): void {\r\n    if (location.googlePlaceId != \"0\") {\r\n      let modal = this.modalCtrl.create(LocationPage,\r\n        {\r\n          placeId: location.googlePlaceId,\r\n          // 0: Location is current Location\r\n          // 1: Can check in\r\n          // 2: Too far away for check in \r\n          checkInStatus: location.googlePlaceId == this.currentLocation.googlePlaceId ? 0 : this.closeLocations.find((loc) => loc.googlePlaceId == location.googlePlaceId) ? 1 : 2\r\n        }\r\n      );\r\n      \r\n      modal.onDidDismiss((data) => {\r\n        if (data) {\r\n          if (data.checkIn == true) this.checkIn(location.googlePlaceId);\r\n        }\r\n      });\r\n  \r\n      modal.present();\r\n    }\r\n  }\r\n \r\n  openChat(chat: Chat): void {\r\n    this.navCtrl.push(ChatPage, { chat: chat });\r\n  }\r\n\r\n  openProfile(_user: User): void {\r\n    this.navCtrl.push(UserProfilePage, {userId: _user.id})\r\n  }\r\n\r\n  openOwnProfile(): void {\r\n    this.navCtrl.push(UserProfilePage, {user: this.authService.currentUser})\r\n  }\r\n\r\n  private scrollToTop(duration?: number): void {\r\n    setTimeout(() => {\r\n      if (this.content) {\r\n        this.content.scrollToTop(duration || 300);\r\n      }\r\n    }, 50);\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/map/map.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 169;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/@angular lazy\n// module id = 169\n// module chunks = 0","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 211;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 211\n// module chunks = 0","import { Platform } from 'ionic-angular';\nimport { Injectable } from '@angular/core';\nimport 'rxjs/add/operator/first';\nimport 'rxjs/add/operator/map';\n\nimport { BaseService } from \"./base.service\";\n\nimport { Facebook } from '@ionic-native/facebook';\nimport { FacebookService, InitParams, LoginResponse } from 'ngx-facebook';\n\nimport { Apollo } from 'apollo-angular';\nimport gql from 'graphql-tag';\n\nimport { User } from \"../models/models\";\n\nconst GetUserFromIdQuery = gql`\n  query user($id: ID!) {\n    user(id: $id) {\n      id\n      fbId\n      name\n      description\n      age\n      gender\n      pictures {\n        url\n      }\n      chats {\n        id\n        user {\n          id\n          name\n          gender\n          pictures {\n            url\n          }\n        }\n        messages {\n          id\n          content\n          type\n          timestamp\n          sender {\n            id\n            name\n            gender\n            pictures {\n              url\n            }\n          }\n        }\n      }\n    }\n  }\n`;\n\nconst GetUserFromFbIdQuery = gql`\n  query user($fbId: String) {\n    user(fbId: $fbId) {\n      id\n      fbId\n      name\n      pictures {\n        url\n      }\n      chats {\n        id\n        user {\n          name\n          pictures {\n            url\n          }\n        }\n        messages {\n          id\n          content\n          type\n          timestamp\n          sender {\n            id\n            name\n            pictures {\n              url\n            }\n          }\n        }\n      }\n    }\n  }\n`;\n\ninterface QueryResponse{\n  user: User\n  loading: boolean\n}\n\n@Injectable()\nexport class AuthService extends BaseService {\n\n  constructor(\n    public fb: Facebook,\n    public platform: Platform,\n    public jsfb: FacebookService,\n    public apollo: Apollo\n  ) {\n    super();\n    console.log('Hello Auth Provider');\n\n    // Initialize FB JS API (on Cordova we use the native API)\n    if (!this.platform.is(\"cordova\")){\n      const params: InitParams = {\n        appId: '620636164812861',\n        version: 'v2.9'\n      };\n\n      this.jsfb.init(params);\n    }\n  }\n\n  fakeLogin(): Promise<boolean> {\n    console.log(\"Fake login\");\n    return this.getUserFromID(\"0\")\n      .then((_user: User) => {\n        console.log(\"User\", _user);\n\n        // Save the resulted User in local storage\n        this.currentUser = _user;\n\n        return _user != null;\n      })\n      .catch(this.handlePromiseError);\n  }\n  \n  signinWithFacebook(): Promise<boolean> {\n    console.log(\"Sign in with Facebook\");\n    // Local Facebook login --> Token\n    return this._fbLogin([\"email, user_likes\"])\n      .then((_response: any) => {\n        console.log(\"Facebook response\", _response);\n        \n        // Save token --> Will be used in all GraphQL queries\n        this.fbToken = _response.authResponse.accessToken;\n        \n        // Get the current User by Facebook ID\n        return this.getUserFromFacebookID(_response.authResponse.userID);\n      })\n      .then((_user: User) => {\n        console.log(\"User\", _user);\n\n        // Save the resulted User in local storage\n        this.currentUser = _user;\n\n        return _user != null;\n      })\n      .catch(this.handlePromiseError);\n  }\n  \n  // Wrapper for Native / JS Facebook API\n  private _fbLogin(permissions: string[]): Promise<any> {\n    if (this.platform.is(\"cordova\")){\n      console.log(\"Native Facebook login flow\");\n\n      return this.fb.login(['email, user_likes']);\n    }\n    else{\n      console.log(\"JS Facebook login flow\");\n      \n      return this.jsfb.login();\n    }\n  }\n\n  getUserFromID(id: string): Promise<User> {\n    console.log(\"Get user from Id\", id);\n\n    return new Promise<User>((resolve, reject) =>\n      this.apollo.watchQuery<QueryResponse>({\n        query: GetUserFromIdQuery,\n        variables: {\n          id: id\n        }\n      }).subscribe(({data}) => {\n        resolve(data.user || null);\n      }));\n  }\n\n  getUserFromFacebookID(id: string): Promise<User> {\n    console.log(\"Get user from FB Id\", id);\n\n    return new Promise<User>((resolve, reject) =>\n      this.apollo.watchQuery<QueryResponse>({\n        query: GetUserFromFbIdQuery,\n        variables: {\n          fbId: id\n        }\n      }).subscribe(({data}) => {\n        resolve(data.user || null);\n      }));\n  }\n\n  logout(): Promise<void> {\n    return null;\n  }\n\n\n  // Checks if the User is authenticated.\n  // This can definetely be improved (token expiration or something)\n  get authenticated(): Promise<boolean> {\n    console.log(\"Authenticated?\");\n\n    return new Promise((resolve, reject) => { resolve(true) });\n\n    // return new Promise((resolve, reject) => {\n    //   if (this.fbToken != null && this.currentUser != null && this.currentUser.fbId) {\n        \n    //     this.getUserFromFacebookID(this.currentUser.fbId)\n    //       .then((_user: User) => {\n    //         // Save the resulted User in local storage\n    //         // this.currentUser = _user;\n\n    //         (_user != null) ? resolve(true) : reject(false);\n    //       })\n    //       .catch(this.handlePromiseError);\n    //   }\n    //   else {\n    //     reject(false);\n    //   }\n    // });\n  }\n\n  get fbToken(): string {\n    return localStorage.getItem(\"fbToken\") || null;\n  }\n  set fbToken(_fbToken: string) {\n    localStorage.setItem(\"fbToken\", _fbToken);\n  }\n\n  get currentUser(): User {\n    return JSON.parse(localStorage.getItem(\"currentUser\")) || null;\n  }\n  set currentUser(_currentUser: User) {\n    localStorage.setItem(\"currentUser\", JSON.stringify(_currentUser));\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/auth.service.ts","import { Component, ViewChild, ElementRef } from '@angular/core';\nimport { NavParams, ViewController } from 'ionic-angular';\n\nimport { AuthService } from './../../providers/auth.service';\nimport { User } from \"../../models/models\";\n\n@Component({\n  selector: 'page-edit-user-profile',\n  templateUrl: 'edit-user-profile.html',\n})\nexport class EditUserProfilePage {\n  @ViewChild('content') content: any;\n  \n  state: number = -1;\n  offset: number = 50;\n\n  uploadProgress: number;\n  private filePhoto: File;\n\n  constructor(\n    public authService: AuthService,\n    public navParams: NavParams,\n    public element: ElementRef,\n    public viewCtrl: ViewController\n  ) {\n  }\n\n  ionViewCanEnter(): Promise<boolean> {\n    return this.authService.authenticated;\n  }\n\n  onSubmit(event: Event): void {\n    event.preventDefault();\n    \n    // if (this.filePhoto) {\n\n    //   let uploadTask = this.userService.uploadPhoto(this.filePhoto, this.currentUser.$key);\n\n    //   uploadTask.on('state_changed', (snapshot) => {\n\n    //     this.uploadProgress = Math.round((snapshot.bytesTransferred / snapshot.totalBytes) * 100);\n\n    //   }, (error: Error) => {\n    //     // catch error\n    //   }, () => {\n    //     this.editUser(uploadTask.snapshot.downloadURL);\n    //   });\n\n    // } else {\n      this.editUser();\n    // }\n    \n    this.viewCtrl.dismiss();\n  }\n\n  dismiss(): void {\n    this.viewCtrl.dismiss();\n  }\n\n  onPhoto(event): void {  \n    this.filePhoto = event.target.files[0];\n  }\n\n  private editUser(photoUrl?: string): void {\n    // this.userService\n    //   .edit({\n    //     name: this.currentUser.name,\n    //     username: this.currentUser.username,\n    //     photo: photoUrl || this.currentUser.photo || ''\n    //   }).then(() => {\n    //     this.canEdit = false;\n    //     this.filePhoto = undefined;\n    //     this.uploadProgress = 0;\n    //   });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/edit-user-profile/edit-user-profile.ts","import { OnInit } from \"@angular/core\";\n\nimport { App, AlertController, MenuController, NavController } from 'ionic-angular';\n\nimport { AuthService } from './../providers/auth.service';\nimport { SigninPage } from './../pages/signin/signin';\n\nexport abstract class BaseComponent implements OnInit {\n\n    protected navCtrl: NavController;\n\n    constructor(\n        public alertCtrl: AlertController,\n        public authService: AuthService,\n        public app: App,\n        public menuCtrl: MenuController\n    ) {}\n\n    ngOnInit(): void {\n        this.navCtrl = this.app.getActiveNav();\n    }\n\n    onLogout(): void {\n        this.alertCtrl.create({\n            message: 'Do you want to quit?',\n            buttons: [\n                {\n                    text: 'Yes',\n                    handler: () => {\n                        this.authService.logout()\n                            .then(() => {\n                                this.navCtrl.setRoot(SigninPage);\n                                this.menuCtrl.enable(false, 'user-menu');\n                            });\n                    }\n                },\n                {\n                    text: 'No'\n                }\n            ]\n        }).present();\n    }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/base.component.ts","import { Component } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { AlertController, Loading, LoadingController, NavController, NavParams } from 'ionic-angular';\n\nimport { AuthService } from './../../providers/auth.service';\nimport { MapPage } from './../map/map';\n\n@Component({\n  selector: 'page-signin',\n  templateUrl: 'signin.html',\n})\nexport class SigninPage {\n\n  loading: boolean = false;\n\n  constructor(\n    public alertCtrl: AlertController,\n    public authService: AuthService,\n    public navCtrl: NavController, \n    public navParams: NavParams\n  ) {\n\n  }\n\n  onSigninWithFacebook(): void {\n    \n    this.showLoading();\n\n    this.authService.signinWithFacebook()\n      .then((isLogged: boolean) => {\n\n        if (isLogged) {\n          this.navCtrl.setRoot(MapPage);\n          // this.hideLoading();\n        }\n\n      }).catch((error: any) => {\n        console.log(error);\n        this.hideLoading();\n        this.showAlert(error);\n      });\n\n  }\n\n  skip(): void {\n\n    this.showLoading();\n    \n    this.authService.fakeLogin()\n      .then((isLogged: boolean) => {\n\n        if (isLogged) {\n          this.navCtrl.setRoot(MapPage);\n          // this.hideLoading();\n        }\n\n      }).catch((error: any) => {\n        console.log(error);\n        this.hideLoading();\n        this.showAlert(error);\n      });\n  }\n\n  private showLoading(): void {\n    this.loading = true;\n  }\n\n  private hideLoading(): void {\n    this.loading = false;\n  }\n\n  private showAlert(message: string): void {\n    this.alertCtrl.create({\n      message: message,\n      buttons: ['Ok']\n    }).present();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/signin/signin.ts","import { AuthService } from './../../providers/auth.service';\nimport { Message, MessageType } from './../../models/models';\nimport { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ViewController } from 'ionic-angular';\n\n@Component({\n  selector: 'page-status',\n  templateUrl: 'status.html',\n})\nexport class StatusPage {\n  content: string = \"\";\n\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    public viewCtrl: ViewController,\n    public authService: AuthService) {\n  }\n\n  post() {\n    var message = new Message();\n    message.content = this.content;\n    message.type = MessageType.TEXT;\n    message.sender = this.authService.currentUser;\n    message.timestamp = new Date(Date.now());\n    this.viewCtrl.dismiss(message);\n  }\n\n  dismiss() {\n    this.viewCtrl.dismiss();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/status/status.ts","import { Location } from './../../models/models';\nimport { Component } from '@angular/core';\nimport { ViewController, NavParams } from \"ionic-angular\";\n\n@Component({\n  selector: 'location-switcher',\n  templateUrl: 'location-switcher.html'\n})\nexport class LocationSwitcherComponent {\n  locations: [Location];\n  currentLocation: Location;\n  none: Location = new Location(\"0\", \"Keine Location\");\n\n  constructor(private params: NavParams, public viewCtrl: ViewController) {\n    this.locations = params.get('locations');\n    this.currentLocation = params.get('currentLocation');\n\n    console.log(this.currentLocation);\n  }\n\n  checkIn(event, location: Location) {\n    this.viewCtrl.dismiss({ location: location, checkIn: true });\n    event.stopPropagation();\n  }\n\n  close(event, location: Location) {\n    this.viewCtrl.dismiss({ location: location, checkIn: false });\n    event.stopPropagation();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/location-switcher/location-switcher.ts","import { Location } from './../../models/models';\nimport { Component, ViewChild, Renderer, ElementRef } from '@angular/core';\nimport { NavController, NavParams, ViewController } from 'ionic-angular';\n\nimport { AuthService } from './../../providers/auth.service';\nimport { User } from \"../../models/models\";\n\nimport { Apollo, ApolloQueryObservable } from 'apollo-angular';\nimport gql from 'graphql-tag';\n\nconst GetLocationQuery = gql`\nquery location($googlePlaceId: String) {\n  location(googlePlaceId: $googlePlaceId) {\n    id\n    googlePlaceId\n    name\n    description\n    pictures {\n      url\n    }\n    visitors {\n      id\n      pictures {\n        url\n      }\n    }\n    feed {\n      id\n      user {\n        name\n        pictures {\n          url\n        }\n      }\n      messages {\n        id\n        content\n        type\n        timestamp\n        sender {\n          id\n          name\n          pictures {\n            url\n          }\n        }\n      }\n    }\n  }\n}\n`;\n\ninterface GetLocationQueryResponse{\n  location: Location\n  loading\n}\n\n@Component({\n  selector: 'page-location',\n  templateUrl: 'location.html',\n})\nexport class LocationPage {\n  @ViewChild('content') content: any;\n  \n  state: number = -1;\n  offset: number = 50;\n\n  location: Location;\n  placeholder: any;\n\n  checkInStatus: number = 2; // 0: Checked in, 1: Check in possible, 2: Out of reach\n\n  constructor(\n    public authService: AuthService,\n    public navCtrl: NavController, \n    public viewCtrl: ViewController,\n    public navParams: NavParams,\n    private apollo: Apollo,\n    public element: ElementRef,\n    public renderer: Renderer\n  ) {\n    var user = {\n      name: \"Benutzername\",\n      pictures: [\n        { url: \"\"}\n      ]\n    };\n\n    var message = {\n      content: \"Das hier ist ein Platzhalter Das hier ist ein Platzhalter Das hier ist ein Platzhalter Das hier ist ein Platzhalter Das hier ist ein Platzhalter\",\n      sender: user,\n      timestamp: Date.now()\n    }\n\n    this.placeholder = {\n      name: \"Name der Location\",\n      description: \"Description ist meist etwas lnger\",\n      pictures: [\n        { url: \"\"}\n      ],\n      lat: 52,\n      lng: 12,\n      visitors: [ user, user, user, user, user, user, user, user, user ],\n      feed: {\n        messages: [ message, message, message, message, message ]\n      }\n    }\n  }\n\n  ionViewCanEnter(): Promise<boolean> {\n    return this.authService.authenticated;\n  }\n\n  ionViewWillEnter() {\n    this.checkInStatus = this.navParams.get(\"checkInStatus\");\n\n    this.location = this.navParams.get(\"location\");\n\n    if (this.location === undefined || this.location === null) {\n      this.getPlaceInformation(this.navParams.get(\"placeId\"))\n        .then((response) => {\n          this.location = response;\n        });\n    }\n  }\n\n  ionViewDidLoad() {\n    this.setState(0);\n\n    this.content.ionScroll.subscribe((ev) => {\n      ev.domWrite(() => {\n        \n        if (this.state == 0 && ev.directionY == \"down\" && ev.scrollTop > this.offset) { // DOWN\n          this.setState(1);\n        }\n        else if (this.state == 1 && ev.scrollTop <= this.offset) {  // UP\n          this.setState(0);\n        }\n    \n        });\n    });\n  }\n\n  setState(state: number): void {\n    if (this.state == state) return;\n\n    this.renderer.setElementClass(this.element.nativeElement, \"state-\" + this.state, false);\n    this.state = state;\n    this.renderer.setElementClass(this.element.nativeElement, \"state-\" + this.state, true);\n  }\n\n  getPlaceInformation(placeId: string): Promise<Location> {\n    return new Promise<Location>((resolve, reject) =>\n      this.apollo.watchQuery<GetLocationQueryResponse>({\n        query: GetLocationQuery,\n        variables: {\n          googlePlaceId: placeId\n        }\n      }).subscribe(({data}) => {\n        if (data.location) resolve(data.location);\n      })\n    );\n  }\n\n  checkIn(): void {\n    this.viewCtrl.dismiss({checkIn: true});\n  }\n  \n  dismiss() {\n    this.viewCtrl.dismiss();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/location/location.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { ErrorHandler, NgModule } from '@angular/core';\nimport { IonicApp, IonicErrorHandler, IonicModule } from 'ionic-angular';\n\nimport { Geolocation } from '@ionic-native/geolocation';\nimport { Network } from '@ionic-native/network';\nimport { SplashScreen } from '@ionic-native/splash-screen';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { Facebook } from '@ionic-native/facebook'\n\nimport { FacebookService } from \"ngx-facebook\";\n\nimport { ElasticModule } from 'angular2-elastic';\nimport { MomentModule } from 'angular2-moment';\n\nimport { AuthService } from './../providers/auth.service';\n\nimport { ParallaxHeader } from '../directives/parallax-header/parallax-header';\nimport { Autoresize } from './../directives/autoresize/autoresize';\n\nimport { CapitalizePipe } from './../pipes/capitalize.pipe';\n\nimport { CustomLoggedHeaderComponent } from './../components/custom-logged-header/custom-logged-header.component';\nimport { MessageBoxComponent } from './../components/message-box/message-box.component';\nimport { ProgressBarComponent } from './../components/progress-bar/progress-bar.component';\nimport { UserInfoComponent } from './../components/user-info/user-info.component';\nimport { UserMenuComponent } from './../components/user-menu/user-menu.component';\nimport { LocationSwitcherComponent } from '../components/location-switcher/location-switcher';\n\nimport { SigninPage } from './../pages/signin/signin';\nimport { UserProfilePage } from './../pages/user-profile/user-profile';\nimport { EditUserProfilePage } from './../pages/edit-user-profile/edit-user-profile';\nimport { ChatPage } from './../pages/chat/chat';\nimport { ChatListPage } from '../pages/chat-list/chat-list';\nimport { MapPage } from './../pages/map/map';\nimport { HomePage } from '../pages/home/home';\nimport { LocationPage } from '../pages/location/location';\nimport { StatusPage } from './../pages/status/status';\n\n\nimport { ApolloClient, createNetworkInterface } from 'apollo-client';\nimport { ApolloModule } from 'apollo-angular';\n\nimport { MyApp } from './app.component';\nimport { ShrinkingSegmentHeader } from '../components/shrinking-segment-header/shrinking-segment-header';\n\nconst networkInterface = createNetworkInterface({ uri: 'https://hispot-server-segekjpsrd.now.sh/graphql' });\n// const networkInterface = createNetworkInterface({ uri: 'http://localhost:3000/graphql' });\n\nnetworkInterface.use([{\n  applyMiddleware(req, next) {\n    if (!req.options.headers) {\n      req.options.headers = {};  // Create the header object if needed.\n    }\n    // get the authentication token from local storage if it exists\n    req.options.headers.access_token = localStorage.getItem('fbToken') || null;\n    next();\n  }\n}]);\n\nconst client = new ApolloClient({\n  dataIdFromObject: (o: any) => {\n    if (o.googlePlaceId) return o.googlePlaceId;\n    else return o.id\n  },\n  networkInterface,\n});\n\nexport function provideClient(): ApolloClient {\n  return client;\n}\n\ndeclare var window;\n\nexport class MyErrorHandler implements ErrorHandler {\n  handleError(err: any): void {\n    window.Ionic.handleNewError(err);\n  }\n}\n\n@NgModule({\n  declarations: [\n    MyApp,\n    ParallaxHeader,\n    Autoresize,\n    CapitalizePipe,\n    CustomLoggedHeaderComponent,\n    MessageBoxComponent,\n    ProgressBarComponent,\n    UserInfoComponent,\n    UserMenuComponent,\n    SigninPage,\n    UserProfilePage,\n    EditUserProfilePage,\n    ChatPage,\n    ChatListPage, \n    MapPage, \n    HomePage,\n    LocationPage,\n    StatusPage,\n    ShrinkingSegmentHeader,\n    LocationSwitcherComponent\n  ],\n  imports: [\n    BrowserModule,\n    IonicModule.forRoot(MyApp),\n    ApolloModule.forRoot(provideClient),\n    MomentModule,\n    ElasticModule\n  ],\n  bootstrap: [IonicApp],\n  entryComponents: [\n    MyApp,\n    SigninPage,\n    UserProfilePage,\n    EditUserProfilePage,\n    ChatPage,\n    ChatListPage, \n    MapPage, \n    HomePage,\n    LocationPage,\n    StatusPage,\n    LocationSwitcherComponent\n  ],\n  providers: [\n    StatusBar,\n    SplashScreen,\n    { provide: ErrorHandler, useClass: IonicErrorHandler },\n    Facebook,\n    Geolocation,\n    Network,\n    AuthService,\n    FacebookService,\n    [{ provide: ErrorHandler, useClass: MyErrorHandler }]\n  ]\n})\nexport class AppModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","\r\nexport enum MessageType {\r\n  TEXT = <any>'TEXT',\r\n  PICTURE = <any>'PICTURE'\r\n}\r\n\r\nexport interface User {\r\n  id: string;\r\n  fbId: string;\r\n  name: string;\r\n  description: string;\r\n  age: number;\r\n  pictures: [Picture];\r\n  location: Location;\r\n  locationTime: Date;\r\n  chats: [Chat];\r\n  gender: string;\r\n}\r\n\r\nexport class Chat {\r\n  id: string;\r\n  user: User;\r\n  location: Location;\r\n  messages: [Message];\r\n\r\n  constructor() {};\r\n}\r\n\r\nexport class Message {\r\n  id: string;\r\n  content: string;\r\n  type: MessageType;\r\n  sender: User;\r\n  timestamp: Date;\r\n\r\n  constructor() {}\r\n}\r\n\r\nexport class Location {\r\n  id: string;\r\n  googlePlaceId: string;\r\n  name: string;\r\n  description: string;\r\n  pictures: [Picture];\r\n  lat: number;\r\n  lng: number;\r\n  visitors: [User];\r\n  feed: Chat;\r\n  \r\n  constructor(googlePlaceId: string, name: string) {\r\n    this.googlePlaceId = googlePlaceId;\r\n    this.name = name;\r\n  }\r\n}\r\n\r\nexport interface Picture {\r\n  id: string;\r\n  url: string;\r\n  timestamp: Date;\r\n  expires: boolean;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/models.ts","var map = {\n\t\"./af\": 304,\n\t\"./af.js\": 304,\n\t\"./ar\": 305,\n\t\"./ar-dz\": 306,\n\t\"./ar-dz.js\": 306,\n\t\"./ar-kw\": 307,\n\t\"./ar-kw.js\": 307,\n\t\"./ar-ly\": 308,\n\t\"./ar-ly.js\": 308,\n\t\"./ar-ma\": 309,\n\t\"./ar-ma.js\": 309,\n\t\"./ar-sa\": 310,\n\t\"./ar-sa.js\": 310,\n\t\"./ar-tn\": 311,\n\t\"./ar-tn.js\": 311,\n\t\"./ar.js\": 305,\n\t\"./az\": 312,\n\t\"./az.js\": 312,\n\t\"./be\": 313,\n\t\"./be.js\": 313,\n\t\"./bg\": 314,\n\t\"./bg.js\": 314,\n\t\"./bn\": 315,\n\t\"./bn.js\": 315,\n\t\"./bo\": 316,\n\t\"./bo.js\": 316,\n\t\"./br\": 317,\n\t\"./br.js\": 317,\n\t\"./bs\": 318,\n\t\"./bs.js\": 318,\n\t\"./ca\": 319,\n\t\"./ca.js\": 319,\n\t\"./cs\": 320,\n\t\"./cs.js\": 320,\n\t\"./cv\": 321,\n\t\"./cv.js\": 321,\n\t\"./cy\": 322,\n\t\"./cy.js\": 322,\n\t\"./da\": 323,\n\t\"./da.js\": 323,\n\t\"./de\": 324,\n\t\"./de-at\": 325,\n\t\"./de-at.js\": 325,\n\t\"./de-ch\": 326,\n\t\"./de-ch.js\": 326,\n\t\"./de.js\": 324,\n\t\"./dv\": 327,\n\t\"./dv.js\": 327,\n\t\"./el\": 328,\n\t\"./el.js\": 328,\n\t\"./en-au\": 329,\n\t\"./en-au.js\": 329,\n\t\"./en-ca\": 330,\n\t\"./en-ca.js\": 330,\n\t\"./en-gb\": 331,\n\t\"./en-gb.js\": 331,\n\t\"./en-ie\": 332,\n\t\"./en-ie.js\": 332,\n\t\"./en-nz\": 333,\n\t\"./en-nz.js\": 333,\n\t\"./eo\": 334,\n\t\"./eo.js\": 334,\n\t\"./es\": 335,\n\t\"./es-do\": 336,\n\t\"./es-do.js\": 336,\n\t\"./es.js\": 335,\n\t\"./et\": 337,\n\t\"./et.js\": 337,\n\t\"./eu\": 338,\n\t\"./eu.js\": 338,\n\t\"./fa\": 339,\n\t\"./fa.js\": 339,\n\t\"./fi\": 340,\n\t\"./fi.js\": 340,\n\t\"./fo\": 341,\n\t\"./fo.js\": 341,\n\t\"./fr\": 342,\n\t\"./fr-ca\": 343,\n\t\"./fr-ca.js\": 343,\n\t\"./fr-ch\": 344,\n\t\"./fr-ch.js\": 344,\n\t\"./fr.js\": 342,\n\t\"./fy\": 345,\n\t\"./fy.js\": 345,\n\t\"./gd\": 346,\n\t\"./gd.js\": 346,\n\t\"./gl\": 347,\n\t\"./gl.js\": 347,\n\t\"./gom-latn\": 348,\n\t\"./gom-latn.js\": 348,\n\t\"./he\": 349,\n\t\"./he.js\": 349,\n\t\"./hi\": 350,\n\t\"./hi.js\": 350,\n\t\"./hr\": 351,\n\t\"./hr.js\": 351,\n\t\"./hu\": 352,\n\t\"./hu.js\": 352,\n\t\"./hy-am\": 353,\n\t\"./hy-am.js\": 353,\n\t\"./id\": 354,\n\t\"./id.js\": 354,\n\t\"./is\": 355,\n\t\"./is.js\": 355,\n\t\"./it\": 356,\n\t\"./it.js\": 356,\n\t\"./ja\": 357,\n\t\"./ja.js\": 357,\n\t\"./jv\": 358,\n\t\"./jv.js\": 358,\n\t\"./ka\": 359,\n\t\"./ka.js\": 359,\n\t\"./kk\": 360,\n\t\"./kk.js\": 360,\n\t\"./km\": 361,\n\t\"./km.js\": 361,\n\t\"./kn\": 362,\n\t\"./kn.js\": 362,\n\t\"./ko\": 363,\n\t\"./ko.js\": 363,\n\t\"./ky\": 364,\n\t\"./ky.js\": 364,\n\t\"./lb\": 365,\n\t\"./lb.js\": 365,\n\t\"./lo\": 366,\n\t\"./lo.js\": 366,\n\t\"./lt\": 367,\n\t\"./lt.js\": 367,\n\t\"./lv\": 368,\n\t\"./lv.js\": 368,\n\t\"./me\": 369,\n\t\"./me.js\": 369,\n\t\"./mi\": 370,\n\t\"./mi.js\": 370,\n\t\"./mk\": 371,\n\t\"./mk.js\": 371,\n\t\"./ml\": 372,\n\t\"./ml.js\": 372,\n\t\"./mr\": 373,\n\t\"./mr.js\": 373,\n\t\"./ms\": 374,\n\t\"./ms-my\": 375,\n\t\"./ms-my.js\": 375,\n\t\"./ms.js\": 374,\n\t\"./my\": 376,\n\t\"./my.js\": 376,\n\t\"./nb\": 377,\n\t\"./nb.js\": 377,\n\t\"./ne\": 378,\n\t\"./ne.js\": 378,\n\t\"./nl\": 379,\n\t\"./nl-be\": 380,\n\t\"./nl-be.js\": 380,\n\t\"./nl.js\": 379,\n\t\"./nn\": 381,\n\t\"./nn.js\": 381,\n\t\"./pa-in\": 382,\n\t\"./pa-in.js\": 382,\n\t\"./pl\": 383,\n\t\"./pl.js\": 383,\n\t\"./pt\": 384,\n\t\"./pt-br\": 385,\n\t\"./pt-br.js\": 385,\n\t\"./pt.js\": 384,\n\t\"./ro\": 386,\n\t\"./ro.js\": 386,\n\t\"./ru\": 387,\n\t\"./ru.js\": 387,\n\t\"./sd\": 388,\n\t\"./sd.js\": 388,\n\t\"./se\": 389,\n\t\"./se.js\": 389,\n\t\"./si\": 390,\n\t\"./si.js\": 390,\n\t\"./sk\": 391,\n\t\"./sk.js\": 391,\n\t\"./sl\": 392,\n\t\"./sl.js\": 392,\n\t\"./sq\": 393,\n\t\"./sq.js\": 393,\n\t\"./sr\": 394,\n\t\"./sr-cyrl\": 395,\n\t\"./sr-cyrl.js\": 395,\n\t\"./sr.js\": 394,\n\t\"./ss\": 396,\n\t\"./ss.js\": 396,\n\t\"./sv\": 397,\n\t\"./sv.js\": 397,\n\t\"./sw\": 398,\n\t\"./sw.js\": 398,\n\t\"./ta\": 399,\n\t\"./ta.js\": 399,\n\t\"./te\": 400,\n\t\"./te.js\": 400,\n\t\"./tet\": 401,\n\t\"./tet.js\": 401,\n\t\"./th\": 402,\n\t\"./th.js\": 402,\n\t\"./tl-ph\": 403,\n\t\"./tl-ph.js\": 403,\n\t\"./tlh\": 404,\n\t\"./tlh.js\": 404,\n\t\"./tr\": 405,\n\t\"./tr.js\": 405,\n\t\"./tzl\": 406,\n\t\"./tzl.js\": 406,\n\t\"./tzm\": 407,\n\t\"./tzm-latn\": 408,\n\t\"./tzm-latn.js\": 408,\n\t\"./tzm.js\": 407,\n\t\"./uk\": 409,\n\t\"./uk.js\": 409,\n\t\"./ur\": 410,\n\t\"./ur.js\": 410,\n\t\"./uz\": 411,\n\t\"./uz-latn\": 412,\n\t\"./uz-latn.js\": 412,\n\t\"./uz.js\": 411,\n\t\"./vi\": 413,\n\t\"./vi.js\": 413,\n\t\"./x-pseudo\": 414,\n\t\"./x-pseudo.js\": 414,\n\t\"./yo\": 415,\n\t\"./yo.js\": 415,\n\t\"./zh-cn\": 416,\n\t\"./zh-cn.js\": 416,\n\t\"./zh-hk\": 417,\n\t\"./zh-hk.js\": 417,\n\t\"./zh-tw\": 418,\n\t\"./zh-tw.js\": 418\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 769;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/locale ^\\.\\/.*$\n// module id = 769\n// module chunks = 0","import { Response } from '@angular/http';\nimport { Observable } from 'rxjs';\n\nconst extractError = (error: Response | any): string => {\n    // In a real world app, we might use a remote logging infrastructure\n    let errMsg: string;\n    if (error instanceof Response) {\n        const body = error.json() || '';\n        const err = body.error || JSON.stringify(body);\n        errMsg = `${error.status} - ${error.statusText || ''} ${err}`;\n    } else {\n        errMsg = error.message ? error.message : error.toString();\n    }\n    console.error(errMsg);\n\n    return errMsg;\n}\n\nexport abstract class BaseService {\n\n    protected handlePromiseError(error: Response | any): Promise<any> {\n        return Promise.reject(extractError(error));\n    }\n\n    protected handleObservableError(error: Response | any): Observable<any> {\n        return Observable.throw(extractError(error));\n    }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/providers/base.service.ts","import { Directive, ElementRef, Renderer } from '@angular/core';\r\n\r\n@Directive({\r\n    selector: '[parallax-header]',\r\n    host: {\r\n        '(ionScroll)': 'onContentScroll($event)',\r\n        '(window:resize)': 'onWindowResize($event)'\r\n    }\r\n})\r\nexport class ParallaxHeader {\r\n\r\n    headers: any[];\r\n    headerHeights: number[];\r\n    translateAmt: any;\r\n    scaleAmt: any;\r\n    scrollMax: number;\r\n\r\n    constructor(public element: ElementRef, public renderer: Renderer) {\r\n\r\n    }\r\n\r\n    ngOnInit() {\r\n        let content = this.element.nativeElement.getElementsByClassName('scroll-content')[0];\r\n        this.headers = content.getElementsByClassName('header-image');\r\n        let mainContent = content.getElementsByClassName('main-content')[0];\r\n\r\n        this.onWindowResize(null);\r\n\r\n        for (var i = 0; i < this.headers.length; i++) {\r\n            this.renderer.setElementStyle(this.headers[i], 'webkitTransformOrigin', 'center bottom');\r\n            this.renderer.setElementStyle(this.headers[i], 'background-size', 'cover');\r\n        }\r\n\r\n        this.renderer.setElementStyle(mainContent, 'position', 'absolute');\r\n\r\n    }\r\n\r\n    onWindowResize(ev) {\r\n        this.scrollMax = window.innerHeight;\r\n        this.headerHeights = [];\r\n        for (var i = 0; i < this.headers.length; i++) {\r\n            this.headerHeights.push(this.headers[i].clientHeight);\r\n        }\r\n        console.log(this.headers);\r\n    }\r\n\r\n    onContentScroll(ev) {\r\n\r\n        ev.domWrite(() => {\r\n            this.updateParallaxHeader(ev);\r\n        });\r\n\r\n    }\r\n\r\n    updateParallaxHeader(ev) {\r\n        for (var i = 0; i < this.headers.length; i++) {\r\n            if (!this.headerHeights[i]) this.headerHeights[i] = this.headers[i].clientHeight;\r\n\r\n            if (ev.scrollTop >= 0) {\r\n                this.translateAmt = ev.scrollTop / ((-8 / this.scrollMax) * this.headerHeights[i] + 10);\r\n                this.scaleAmt = 1;\r\n            } else {\r\n                this.translateAmt = 0;\r\n                this.scaleAmt = -ev.scrollTop / this.headerHeights[i] + 1;\r\n            }\r\n\r\n            this.renderer.setElementStyle(this.headers[i], 'webkitTransform', 'translate3d(0,' + this.translateAmt + 'px,0) scale(' + this.scaleAmt + ',' + this.scaleAmt + ')');\r\n        }\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/directives/parallax-header/parallax-header.ts","// An autoresize directive that works with ion-textarea in Ionic 2\r\n// Usage example: <ion-textarea autoresize [(ngModel)]=\"body\"></ion-textarea>\r\n// Usage example: <ion-textarea autoresize=\"100\" [(ngModel)]=\"body\"></ion-textarea>\r\n// Based on https://www.npmjs.com/package/angular2-autosize\r\n\r\nimport { Directive, HostListener, ElementRef, Input } from \"@angular/core\";\r\n\r\n@Directive({\r\n\tselector: \"ion-textarea[autoresize]\" // Attribute selector\r\n})\r\nexport class Autoresize {\r\n\r\n\t@HostListener('input', ['$event.target'])\r\n\tonInput(textArea: HTMLTextAreaElement): void {\r\n\t\tthis.adjust();\r\n  }\r\n\r\n  @Input('autoresize') maxHeight: number;\r\n  \r\n\tconstructor(public element: ElementRef) {\r\n  }\r\n  \r\n\tngOnInit(): void {\r\n\t\tthis.adjust();\r\n  }\r\n  \r\n\tadjust(): void {\r\n    let ta = this.element.nativeElement.querySelector(\"textarea\"),\r\n        newHeight;\r\n\t\t\r\n\t\tif (ta) {\r\n\t\t\tta.style.overflow = \"hidden\";\r\n      ta.style.height = \"auto\";\r\n      if (this.maxHeight) {\r\n        console.log('this.maxHeight',this.maxHeight)\r\n        newHeight = Math.min(ta.scrollHeight, this.maxHeight);\r\n        console.log('newHeight',newHeight)\r\n      } else {\r\n        newHeight = ta.scrollHeight;\r\n      }\r\n      ta.style.height = newHeight + \"px\";\r\n\t\t}\r\n\t}\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/directives/autoresize/autoresize.ts","import { Injectable, Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'capitalize'\n})\n@Injectable()\nexport class CapitalizePipe implements PipeTransform {\n\n  transform(value: string, onlyFirst: boolean) {    \n\n    if (onlyFirst) return value.charAt(0).toUpperCase() + value.substr(1);\n    \n    let words: string[] = value.split(' ');\n    let output: string = '';\n\n    words.forEach((value: string, index: number, words: string[]) => {\n      output += value.charAt(0).toUpperCase() + value.substr(1).toLowerCase() + ' ';\n    });\n\n    return output;\n\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/capitalize.pipe.ts","import { UserProfilePage } from './../../pages/user-profile/user-profile';\nimport { Component, Input } from '@angular/core';\n\nimport { AlertController, App, MenuController } from 'ionic-angular';\n\nimport { AuthService } from \"../../providers/auth.service\";\nimport { BaseComponent } from \"../base.component\";\nimport { User } from \"../../models/models\";\n\n@Component({\n  selector: 'custom-logged-header',\n  templateUrl: 'custom-logged-header.component.html'\n})\nexport class CustomLoggedHeaderComponent extends BaseComponent {\n\n  @Input() title: string;\n  @Input() user: User;\n\n  constructor(\n    public alertCtrl: AlertController,\n    public authService: AuthService,\n    public app: App,\n    public menuCtrl: MenuController\n  ) {\n    super(alertCtrl, authService, app, menuCtrl);\n  }\n\n  openProfile(_user: User): void {\n    this.navCtrl.push(UserProfilePage, {userId: _user.id})\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/custom-logged-header/custom-logged-header.component.ts","import { Component, Input } from '@angular/core';\nimport { Message, User, MessageType } from \"../../models/models\";\nimport { AuthService } from \"../../providers/auth.service\";\n\n@Component({\n  selector: 'message-box',\n  templateUrl: 'message-box.component.html'\n})\nexport class MessageBoxComponent {\n\n  @Input() message: Message;\n\n  constructor(public authService: AuthService) { }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/message-box/message-box.component.ts","import { Component, Input } from '@angular/core';\n\n@Component({\n  selector: 'progress-bar',\n  templateUrl: 'progress-bar.component.html'\n})\nexport class ProgressBarComponent {\n\n  @Input() progress: number;\n\n  constructor() {}\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/progress-bar/progress-bar.component.ts","import { Component, Input } from '@angular/core';\nimport { User } from \"../../models/models\";\n\n@Component({\n  selector: 'user-info',\n  templateUrl: 'user-info.component.html'\n})\nexport class UserInfoComponent {\n\n  @Input() user: User;\n  @Input() isMenu: boolean = false;\n\n  constructor() {}\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/user-info/user-info.component.ts","import { Component, Input } from '@angular/core';\nimport { AlertController, App, MenuController } from 'ionic-angular';\n\nimport { AuthService } from './../../providers/auth.service';\nimport { BaseComponent } from \"../base.component\";\nimport { UserProfilePage } from './../../pages/user-profile/user-profile';\nimport { User } from \"../../models/models\";\n\n@Component({\n  selector: 'user-menu',\n  templateUrl: 'user-menu.component.html'\n})\nexport class UserMenuComponent extends BaseComponent {\n\n  @Input('user') currentUser: User;\n\n  constructor(\n    public alertCtrl: AlertController,\n    public authService: AuthService,\n    public app: App,\n    public menuCtrl: MenuController\n  ) {\n    super(alertCtrl, authService, app, menuCtrl);\n  }\n\n  onProfile(): void {\n    this.navCtrl.push(UserProfilePage, {user: this.authService.currentUser});\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/user-menu/user-menu.component.ts","import { ChatPage } from './../chat/chat';\nimport { Observable } from 'rxjs';\nimport { Component } from '@angular/core';\n\nimport { MenuController, NavController } from 'ionic-angular';\n\nimport { Apollo, ApolloQueryObservable } from 'apollo-angular';\nimport gql from 'graphql-tag';\n\nimport { AuthService } from './../../providers/auth.service';\nimport { Chat, User } from \"../../models/models\";\n\nconst GetChatsQuery = gql`\n  query user($id: ID) {\n    user(id: $id) {\n      chats {\n        id\n        user {\n          name\n          pictures {\n            url\n          }\n        }\n        messages {\n          id\n          content\n          type\n          timestamp\n          sender {\n            id\n            name\n            pictures {\n              url\n            }\n          }\n        }\n      }\n    }\n  }\n`;\n\ninterface GetChatsQueryResponse{\n  user: User\n  loading\n}\n\n@Component({\n  selector: 'page-chat-list',\n  templateUrl: 'chat-list.html'\n})\nexport class ChatListPage {\n\n  view: string = 'chats';\n\n  chats: Observable<[Chat]>;\n\n  constructor(\n    public authService: AuthService,\n    public menuCtrl: MenuController,\n    public navCtrl: NavController,\n    private apollo: Apollo\n  ) {}\n\n ionViewWillEnter(){\n  this.chats = this.apollo.watchQuery<GetChatsQueryResponse>({\n    query: GetChatsQuery,\n    variables: {\n      id: 123\n    }\n  }).map(({data}) => data.user.chats);\n }\n\n  ionViewCanEnter(): Promise<boolean> {\n    return this.authService.authenticated;\n  }\n\n  ionViewDidLoad() {\n    this.menuCtrl.enable(true, 'user-menu');\n  }\n\n  onChatOpen(chat: Chat): void {\n    this.navCtrl.push(ChatPage, { chat: chat });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/chat-list/chat-list.ts","import { OnInit, Component } from '@angular/core';\n\nimport { Apollo } from 'apollo-angular';\nimport gql from 'graphql-tag';\n\nconst CurrentUserForProfile = gql`\n  query user($id: ID!) {\n    location(id: $id) {\n      id\n      name\n    }\n  }\n`;\n\ninterface QueryResponse{\n  User\n  loading\n}\n\n@Component({\n  selector: 'page-home',\n  templateUrl: 'home.html'\n})\nexport class HomePage implements OnInit {\n  loading: boolean;\n  user: any;\n\n  constructor(public apollo: Apollo) {}\n\n  ngOnInit(): void {\n    this.apollo.watchQuery<QueryResponse>({\n      query: CurrentUserForProfile,\n      variables: {\n        id: 123\n      }\n    }).subscribe(({data}) => {\n      this.loading = data.loading;\n      this.user = data.User;\n      console.log(data);\n    });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts","import { AuthService } from './../providers/auth.service';\nimport { Component } from '@angular/core';\nimport { Platform } from 'ionic-angular';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\n\nimport { MapPage } from './../pages/map/map';\n\n@Component({\n  templateUrl: 'app.html'\n})\nexport class MyApp {\n  rootPage:any = MapPage;\n\n  constructor(platform: Platform, statusBar: StatusBar, splashScreen: SplashScreen, public authService: AuthService) {\n    platform.ready().then(() => {\n      // Okay, so the platform is ready and our plugins are available.\n      // Here you can do any higher level native things you might need.\n      \n      if (platform.is('cordova')) {\n        statusBar.styleDefault();\n        splashScreen.hide();\n      }\n    });\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import { Component, Input, ElementRef, Renderer } from '@angular/core';\nimport { DomController, Platform } from \"ionic-angular\";\n\n@Component({\n selector: 'shrinking-segment-header',\n templateUrl: 'shrinking-segment-header.html'\n})\nexport class ShrinkingSegmentHeader {\n\n  @Input('scrollArea') scrollArea: any;\n  @Input('offset') offset: number;\n  @Input('resizeElement') resizeElement: any;\n  @Input('dragHandle') dragHandle: any;\n\n  state: number = 1;\n\n  handleHeight: number = 120;\n  bounceBack: boolean = true;\n  thresholdTop: number = 200;\n  thresholdBottom: number = 200;\n  minTop: number = 150;\n\n  constructor(\n    public element: ElementRef,\n    public renderer: Renderer,\n    public domCtrl: DomController,\n    public platform: Platform)\n  { }\n\n  ngAfterViewInit(){\n\n    this.scrollArea.ionScroll.subscribe((ev) => {\n      this.resizeHeader(ev);\n    });\n\n    \n    // let hammer = new window['Hammer'](this.dragHandle);\n    // hammer.get('pan').set({ direction: window['Hammer'].DIRECTION_VERTICAL });\n \n    // hammer.on('pan', (ev) => {\n    //   this.handlePan(ev);\n    // });\n  }\n\n  resizeHeader(ev){\n    console.log(ev);\n    ev.domWrite(() => {\n    \n    if (this.state == 1 && ev.directionY == \"down\" && ev.scrollTop > this.offset) { // DOWN\n      this.renderer.setElementClass(this.element.nativeElement, \"state-0\", false);\n      this.renderer.setElementClass(this.element.nativeElement, \"state-1\", false);\n      this.renderer.setElementClass(this.element.nativeElement, \"state-2\", true);\n      this.state = 2;\n    }\n    else if (this.state == 1 && ev.scrollTop == 0) { // UP\n      this.renderer.setElementClass(this.element.nativeElement, \"state-0\", true);\n      this.renderer.setElementClass(this.element.nativeElement, \"state-1\", false);\n      this.renderer.setElementClass(this.element.nativeElement, \"state-2\", false);\n      this.state = 0;\n    }\n    else if ((this.state == 2 && (ev.directionY == \"up\" && ev.velocityY > 5) || (ev.scrollTop <= this.offset)) ||  // UP\n             (this.state == 0 && ev.directionY == \"down\" && ev.scrollTop <= this.offset)) { // DOWN\n      this.renderer.setElementClass(this.element.nativeElement, \"state-0\", false);\n      this.renderer.setElementClass(this.element.nativeElement, \"state-1\", true);\n      this.renderer.setElementClass(this.element.nativeElement, \"state-2\", false);\n      this.state = 1;\n    }\n\n    });\n\n  }\n\n\n  handlePan(ev){\n\n    let newTop = ev.center.y;\n\n    let bounceToBottom = false;\n    let bounceToTop = false;\n\n    if(this.bounceBack && ev.isFinal){\n\n      let topDiff = newTop - this.thresholdTop;\n      let bottomDiff = (this.platform.height() - this.thresholdBottom) - newTop;      \n\n      topDiff >= bottomDiff ? bounceToBottom = true : bounceToTop = true;\n\n    }\n\n    if((newTop < this.thresholdTop && ev.additionalEvent === \"panup\") || bounceToTop){\n\n      this.domCtrl.write(() => {\n        this.renderer.setElementStyle(this.resizeElement, 'transition', 'height 0.5s');\n        this.renderer.setElementStyle(this.resizeElement, 'height', this.minTop + 'px');\n      });\n\n    } else if(((this.platform.height() - newTop) < this.thresholdBottom && ev.additionalEvent === \"pandown\") || bounceToBottom){\n\n      this.domCtrl.write(() => {\n        this.renderer.setElementStyle(this.resizeElement, 'transition', 'height 0.5s');\n        this.renderer.setElementStyle(this.resizeElement, 'height', this.platform.height() - this.handleHeight + 'px');\n      });\n\n    } else {\n\n      this.renderer.setElementStyle(this.resizeElement, 'transition', 'none');\n\n      if(newTop > this.minTop && newTop < (this.platform.height() - this.handleHeight)) {\n\n        if(ev.additionalEvent === \"panup\" || ev.additionalEvent === \"pandown\"){\n\n          this.domCtrl.write(() => {\n            this.renderer.setElementStyle(this.resizeElement, 'height', newTop + 'px');\n          });\n\n        }\n\n      }\n\n    }\n\n  }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/shrinking-segment-header/shrinking-segment-header.ts","import { Chat, Message } from './../../models/models';\nimport { Component, ViewChild, ElementRef, Renderer } from '@angular/core';\nimport { NavController, NavParams, ModalController } from 'ionic-angular';\n\nimport { AuthService } from './../../providers/auth.service';\nimport { User } from \"../../models/models\";\n\nimport { Apollo, ApolloQueryObservable } from 'apollo-angular';\nimport gql from 'graphql-tag';\nimport { ChatPage } from \"../chat/chat\";\nimport { EditUserProfilePage } from \"../edit-user-profile/edit-user-profile\";\n\nconst GetUserQuery = gql`\nquery user($id: ID) {\n  user(id: $id) {\n    id\n    name\n    description\n    age\n    pictures {\n      url\n    }\n  }\n}\n`;\n\ninterface GetUserQueryResponse{\n  user: User\n  loading\n}\n\n@Component({\n  selector: 'page-user-profile',\n  templateUrl: 'user-profile.html',\n})\nexport class UserProfilePage {\n  @ViewChild('content') content: any;\n  \n  state: number = -1;\n  offset: number = 50;\n\n  user: User;\n  placeholder: any;\n  canEdit: boolean = false;\n  uploadProgress: number;\n  private filePhoto: File;\n\n  constructor(\n    public authService: AuthService,\n    public navCtrl: NavController, \n    public navParams: NavParams,\n    private apollo: Apollo,\n    public modalCtrl: ModalController,\n    public element: ElementRef,\n    public renderer: Renderer\n  ) {\n    this.placeholder = {\n      name: \"Benutzername\",\n      description: \"Eine lange und nicht unbedingt\",\n      age: 24,\n      pictures: [\n        { url: \"\"}\n      ]\n    };\n  }\n\n  ionViewCanEnter(): Promise<boolean> {\n    return this.authService.authenticated;\n  }\n\n  ionViewWillEnter() {\n\n    this.user = this.navParams.get(\"user\");\n\n    if (this.user === undefined || this.user === null) {\n      this.getUserInformation(this.navParams.get(\"userId\"))\n        .then((response) => {\n          this.user = response;\n        });\n    }\n  }\n\n  ionViewDidLoad() {\n    this.setState(0);\n\n    this.content.ionScroll.subscribe((ev) => {\n      ev.domWrite(() => {\n        \n        if (this.state == 0 && ev.directionY == \"down\" && ev.scrollTop > this.offset) { // DOWN\n          this.setState(1);\n        }\n        else if (this.state == 1 && ev.scrollTop <= this.offset) {  // UP\n          this.setState(0);\n        }\n    \n        });\n    });\n  }\n\n  setState(state: number): void {\n    if (this.state == state) return;\n\n    this.renderer.setElementClass(this.element.nativeElement, \"state-\" + this.state, false);\n    this.state = state;\n    this.renderer.setElementClass(this.element.nativeElement, \"state-\" + this.state, true);\n  }\n\n  getUserInformation(userId: string): Promise<User> {\n    console.log(\"Get user Information for ID\", userId);\n    return new Promise<User>((resolve, reject) =>\n      this.apollo.watchQuery<GetUserQueryResponse>({\n        query: GetUserQuery,\n        variables: {\n          id: userId\n        }\n      }).subscribe(({data}) => {\n        console.log(\"Got user data for\", data.user.id);\n        if (data.user) resolve(data.user);\n      })\n    );\n  }\n\n  startChat(): void {\n    var chat = this.authService.currentUser.chats.find((value) => value.user.id == this.user.id);\n\n    if (!chat) {\n      var chat = new Chat();\n\n      chat.user = this.user;\n      chat.messages = <[Message]>[];\n    }\n    \n    this.navCtrl.push(ChatPage, { chat: chat });\n\n  }\n\n  editUser(): void {\n    let modal = this.modalCtrl.create(EditUserProfilePage);\n    \n    // modal.onDidDismiss((data) => {\n    //   if (data) {\n    //     console.log(\"data\", data);\n    //     // this.currentLocation.feed.messages.push(data);\n    //     this.scrollToTop();\n    //   }\n    // });\n\n    modal.present();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/user-profile/user-profile.ts","import { Chat, Message, MessageType } from './../../models/models';\nimport { Component, ViewChild } from '@angular/core';\nimport { Content, NavController, NavParams, TextInput } from 'ionic-angular';\n\nimport { AuthService } from './../../providers/auth.service';\n\n@Component({\n  selector: 'page-chat',\n  templateUrl: 'chat.html',\n})\nexport class ChatPage {\n\n  chat: Chat;\n\n  message: string = \"\";\n  \n  @ViewChild(Content) content: Content;\n  @ViewChild('chat_input') messageInput: TextInput;\n  \n  constructor(\n    public authService: AuthService,\n    public navCtrl: NavController,\n    public navParams: NavParams\n  ) {\n    this.chat = <Chat>navParams.get('chat');\n  }\n\n  ionViewCanEnter(): Promise<boolean> {\n    return this.authService.authenticated;\n  }\n\n  ionViewDidEnter() {\n    this.scrollToBottom();\n    // setTimeout(() => {\n    //   this.scrollToBottom();\n    // }, 100);\n  }\n\n  sendMessage(): void {\n\n    if (this.message) {\n      // This is a new Chat --> Add it to the chat list\n      if (this.chat.messages.length == 0) {\n        this.authService.currentUser.chats.push(this.chat);\n      }\n\n      var message = new Message();\n      message.content = this.message;\n      message.type = MessageType.TEXT;\n      message.sender = this.authService.currentUser;\n      message.timestamp = new Date(Date.now());\n      \n      this.chat.messages.push(message);\n\n      this.message = \"\";\n\n      this.messageInput.setFocus();\n      this.scrollToBottom();\n\n      setTimeout(() => {\n        var message = new Message();\n        message.content = \"Das hier ist eine einfache Antwort, die jedes Mal kommt.\";\n        message.type = MessageType.TEXT;\n        message.sender = this.chat.user;\n        message.timestamp = new Date(Date.now());\n        \n        this.chat.messages.push(message);\n\n        this.scrollToBottom();\n      }, 1000);\n    }\n  }\n\n  scrollToBottom(duration?: number): void {\n    setTimeout(() => {\n      if (this.content) {\n        this.content.scrollToBottom(duration || 300);\n      }\n    }, 50);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/chat/chat.ts"],"sourceRoot":""}